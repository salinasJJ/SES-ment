<div class="container-fluid">
    <button (click)="go_back()" style="margin-top:1em">
        Go Back
    </button>
    
    <h2 style="margin-top:0.5em">
        Employee Database
    </h2>
    
    <div class="form-group" style="margin-top:1em;margin-right:55em;">
        <strong>Filter</strong>
        <select class="form-control"
                [(ngModel)]="gender">
          <option value="all">All</option>      
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
    </div>  

    <div style="margin-top:1em">
        <strong style="margin-right:2em">
            Youngest: {{get_youngest_age()}}
        </strong>
        <strong style="margin-right:2em">
            Oldest: {{get_oldest_age()}}
        </strong>
        <strong style="margin-right:2em">
            Average: {{get_average_age()}}
        </strong>
    </div>

    <table class="table table-bordered" style="margin-top:1em">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Sex</th>
                <th>Birth Date</th>
                <th>Age</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let employee of employees | genderFilter: gender">
                <td>
                    <span *ngIf="!employee.editable">
                        {{employee.firstName}}
                    </span>
                    <span *ngIf="employee.editable"
                        contenteditable="true"
                        (blur)="update_employee(employee, 'firstName', $event)"
                        style="color:blue;font-weight:bold">
                        {{employee.firstName}}
                    </span>
                </td> 
                    
                <td>
                    <span *ngIf="!employee.editable">
                        {{employee.lastName}}
                    </span>
                    <span *ngIf="employee.editable"
                        contenteditable="true"
                        (blur)="update_employee(employee, 'lastName', $event)"
                        style="color:blue;font-weight:bold">
                        {{employee.lastName}}
                    </span>
                </td>
                <td>
                    <span *ngIf="!employee.editable">
                        {{employee.sex}}
                    </span>
                    <span *ngIf="employee.editable"
                        contenteditable="true"
                        (blur)="update_employee(employee, 'sex', $event)"
                        style="color:blue;font-weight:bold">
                        {{employee.sex}}
                    </span>
                </td>
                <td>
                    <span *ngIf="!employee.editable">
                        {{employee.birthDate}}
                    </span>
                    <span *ngIf="employee.editable"
                        contenteditable="true"
                        (blur)="update_employee(employee, 'birthDate', $event)"
                        style="color:blue;font-weight:bold">
                        {{employee.birthDate}}
                    </span>
                </td>
                
                <td>
                    <button (click)="enable_edit(employee)" 
                            class="btn btn-primary">
                        Edit
                    </button>
                </td>
                <td>
                    <button (click)="delete_employee(employee); 
                            reload_page();" 
                            class="btn btn-danger btn-sm">
                        Delete
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

</div>